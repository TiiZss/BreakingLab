# BreakingLab
![GitHub tag (with filter)](https://img.shields.io/github/v/tag/TiiZss/BreakingLab?label=version)
[![!#/bin/bash](https://img.shields.io/badge/-%23!%2Fbin%2Fbash-1f425f.svg?logo=image%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw%2FeHBhY2tldCBiZWdpbj0i77u%2FIiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8%2BIDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE3MDg2QTAyQUZCMzExRTVBMkQxRDMzMkJDMUQ4RDk3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE3MDg2QTAzQUZCMzExRTVBMkQxRDMzMkJDMUQ4RDk3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTcwODZBMDBBRkIzMTFFNUEyRDFEMzMyQkMxRDhEOTciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTcwODZBMDFBRkIzMTFFNUEyRDFEMzMyQkMxRDhEOTciLz4gPC9yZGY6RGVzY3JpcHRpb24%2BIDwvcmRmOlJERj4gPC94OnhtcG1ldGE%2BIDw%2FeHBhY2tldCBlbmQ9InIiPz6lm45hAAADkklEQVR42qyVa0yTVxzGn7d9Wy03MS2ii8s%2BeokYNQSVhCzOjXZOFNF4jx%2BMRmPUMEUEqVG36jo2thizLSQSMd4N8ZoQ8RKjJtooaCpK6ZoCtRXKpRempbTv5ey83bhkAUphz8fznvP8znn%2B%2F3NeEEJgNBoRRSmz0ub%2FfuxEacBg%2FDmYtiCjgo5NG2mBXq%2BH5I1ogMRk9Zbd%2BQU2e1ML6VPLOyf5tvBQ8yT1lG10imxsABm7SLs898GTpyYynEzP60hO3trHDKvMigUwdeaceacqzp7nOI4n0SSIIjl36ao4Z356OV07fSQAk6xJ3XGg%2BLCr1d1OYlVHp4eUHPnerU79ZA%2F1kuv1JQMAg%2BE4O2P23EumF3VkvHprsZKMzKwbRUXFEyTvSIEmTVbrysp%2BWr8wfQHGK6WChVa3bKUmdWou%2BjpArdGkzZ41c1zG%2Fu5uGH4swzd561F%2BuhIT4%2BLnSuPsv9%2BJKIpjNr9dXYOyk7%2FBZrcjIT4eCnoKgedJP4BEqhG77E3NKP31FO7cfQA5K0dSYuLgz2TwCWJSOBzG6crzKK%2BohNfni%2Bx6OMUMMNe%2Fgf7ocbw0v0acKg6J8Ql0q%2BT%2FAXR5PNi5dz9c71upuQqCKFAD%2BYhrZLEAmpodaHO3Qy6TI3NhBpbrshGtOWKOSMYwYGQM8nJzoFJNxP2HjyIQho4PewK6hBktoDcUwtIln4PjOWzflQ%2Be5yl0yCCYgYikTclGlxadio%2BBQCSiW1UXoVGrKYwH4RgMrjU1HAB4vR6LzWYfFUCKxfS8Ftk5qxHoCUQAUkRJaSEokkV6Y%2F%2BJUOC4hn6A39NVXVBYeNP8piH6HeA4fPbpdBQV5KOx0QaL1YppX3Jgk0TwH2Vg6S3u%2BdB91%2B%2FpuNYPYFl5uP5V7ZqvsrX7jxqMXR6ff3gCQSTzFI0a1TX3wIs8ul%2Bq4HuWAAiM39vhOuR1O1fQ2gT%2F26Z8Z5vrl2OHi9OXZn995nLV9aFfS6UC9JeJPfuK0NBohWpCHMSAAsFe74WWP%2BvT25wtP9Bpob6uGqqyDnOtaeumjRu%2ByFu36VntK%2FPA5umTJeUtPWZSU9BCgud661odVp3DZtkc7AnYR33RRC708PrVi1larW7XwZIjLnd7R6SgSqWSNjU1B3F72pz5TZbXmX5vV81Yb7Lg7XT%2FUXriu8XLVqw6c6XqWnBKiiYU%2BMt3wWF7u7i91XlSEITwSAZ%2FCzAAHsJVbwXYFFEAAAAASUVORK5CYII%3D)](https://www.gnu.org/software/bash/)
![GitHub License](https://img.shields.io/github/license/TiiZss/BreakingLab)
![GitHub all releases](https://img.shields.io/github/downloads/TiiZss/BreakingLab/total) <br />
[![Donate](https://img.shields.io/badge/Donate-PayPal-green.svg)](https://www.paypal.com/donate/?business=AC5N3XX2KGY2S&no_recurring=0&item_name=Seguir+con+el+desarrollo+de+la+herramienta&currency_code=EUR)

<image src="/BrakingLab.png" alt="BreakinLab">
Bash script to manage web apps using docker and hosts aliases.<br />
Inspiration comes from: https://github.com/eystsen/pentestlab.<br />
Working and tested on Ubuntu 2x, Kali and WSL.<br />

### Current available DOCKER webapps

* bWAPP
* WebGoat 7.1
* WebGoat 8.0
* WebGoat 8.1
* Damn Vulnerable Web App
* Mutillidae II
* OWASP Juice Shop
* WPScan Vulnerable Wordpress
* OpenDNS Security Ninjas
* Altoro Mutual
* Vulnerable GraphQL API
* Java Vulnerable Lab (Fixed 20240913)
* Web for Pentester I (New 20230918)
* Audi - 1 SQLI labs (New 20231215)
* OxNinja SQLi-Lab (New 20231217)
* OWASP Bricks (New 20240417)
* NoSqli Lab (New 20240418)
* Vulnado (New 20240418)
* SSRF-LAB (New 20240418)
* Damn Vulnerable RESTaurant (New 20240418)
* BTS PenTesting Lab (New 20240419)
* exploit.co.il (New 20240419)

### Current available ONLINE webapps

* RedTiger's Hackit (New 20231224)
* PortSwigger SQLi Labs (New 20231224)
* Hacksplanning SQLi Lab (New 20231224)
* Synk Learn (New 20231224)
* Try Hack Me SQLi Lab (New 20231225)
* Kontra SQLi Lab (New 20231225)

### Current available ONLINE Hacking Training Webs
* [TryHackMe](https://tryhackme.com) (New 20240315)
* [HackTheBox](https://www.hackthebox.com) (New 20240315)
* [VulnHub](https://www.vulnhub.com) (New 20240316)
* [Burp Web Security Academy](https://portswigger.net/web-security) (New 20240316)
* [CTFTime](https://ctftime.org) (New 20240316)
* [HackMyVM](https://hackmyvm.eu/) (New 20240418)
* [Vuln Lab](https://www.vulnmachines.com/) (New 20240418)
* [BlueTeam Lab](https://blueteamlabs.online/) (New 20240418)
* [Pentester II](https://www.pentesterlab.com/) (New 20240419)

## How To
#### 1) Clone the repo
Clone this repo, or download it any way you prefer
```
git clone https://github.com/TiiZss/BreakingLab.git
cd BreakingLab
chmod +x breakinglab.sh
```

#### 2) Installing and enabling docker for your user

##### Windows & WSL 
If you want to install Docker in your Windows, please follow this guide: https://docs.docker.com/desktop/install/windows-install/  

##### Mac  
If you want to install Docker in your Mac, please follow this guide: https://docs.docker.com/desktop/install/mac-install/  

##### Linux (not WSL)
This script is prepared to install Docker in Kali: https://www.kali.org/docs/containers/installing-docker-on-kali/  
```
sudo apt install -y docker.io
sudo systemctl enable docker --now
sudo usermod -aG docker $USER
docker
```
For any other distro, use the prefered way to install docker. Here you have how to install Docker Desktop on linux: https://docs.docker.com/desktop/install/linux-install/  


#### 3) Start an app on localhost
Now you can start and stop one or more of these apps on your system.
As an example, to start w4p just run this command
```
./breakinglab.sh start w4p
```
This will download the docker, add w4p to hosts file and run the docker mapped to one of the localhost IPs.
That means you can just point your browser to http://w4p and it will be up and running.


#### 4) Start an app and expose it from machine
Use the startpublic command to bind the app to your IP
```
./breakinglab.sh startpublic w4p
```
If you have multiple interfaces and/or IPs, **or** you need to expose the app on a different port specify it like this
```
./breakinglab.sh startpublic w4p 192.168.1.218 8080
```
IP needs to be an IP on the machine and port in this example is 8080

You can only have one app exposed on any given port. If you need to expose more than one app, you need to use different ports.


#### 5) Stopp any app
To stop any app use the stop command
```
./breakinglab.sh stop w4p
```

## Usage
### With menu

```
./breakinglab.sh 
```

### With patrameters
```
Usage: ./breakinglab.sh {list|status|info|start|startpublic|stop|online} [projectname]

 This scripts uses docker and hosts alias to make web apps available on localhost"

Ex.
./breakinglab.sh list
   List all available projects  

./breakinglab.sh status
   Show status for all docker projects  

./breakinglab.sh start w4p
   Start docker container with w4p and make it available on localhost  

./breakinglab.sh startpublic w4p
   Start docker container with w4p and make it available on machine IP 

./breakinglab.sh stop w4p
   Stop docker w4p container

./breakinglab.sh info w4p
   Show information about w4p project

./breakinglab.sh online w4p
   Start w4p online webapp

```

 ### Dockerfiles from
 * DVWA                   - Ryan Dewhurst (vulnerables/web-dvwa)  
 * Mutillidae II          - OWASP Project (citizenstig/nowasp)  
 * bWapp                  - Rory McCune (raesene/bwapp)  
 * Webgoat(s)             - OWASP Project 7, 8 & 8.1  
 * Juice Shop             - OWASP Project (bkimminich/juice-shop)  
 * Vulnerable Wordpress   - github.com/wpscanteam/VulnerableWordpress  
 * Security Ninjas        - OpenDNS Security Ninjas  
 * Altoro Mutual          - github.com/hclproducts/altoroj  
 * Vulnerable GraphQL API - Carve Systems LLC (carvesystems/vulnerable-graphql-api)  
 * Java Vulnerable Lab    - Java Vulnerable Lab CSPF-Founder
 * Web For Pentester I    - PentesterLab Web For Pentester I (tiizss/webforpentester)
 * Audi 1 SQLi Lab        - SQLI labs to test error based, Blind boolean based, Time based. (c0ny1/sqli-labs)
 * OxNinja SQLi-Lab       - OxNinja SQLI labs (tiizss/oxninja-sqlilab)
 * OWASP Bricks           - OWASP Bricks (citizenstig/owaspbricks)
 * Digininja NoSqli Lab   - Digininja NoSqli Lab
 * Vulnado                - Intentionally Vulnerable Java Application
 * SSRF-LAB               - SSRF-LAB
 * Damn RESTaurant        - Damn Vulnerable RESTaurant
 * BTS LAB                - BTS PenTesting Lab
 * exploit.co.il          - exploit.co.il Vulnerable Web App

github references means the docker is custom created and hosted in dockerhub.

## Troubleshoot / FAQ

### I can't connect to the application I just stared, what is wrong?
- Make sure you are using HTTP not HTTPS
- Try using the IP address instead of the name (to see if the issue is with host file or docker)

### I still cannot make it work, how do I create an issue to get help?
Do these steps and record ouput (image, copy paste from screen, whatever works for you)
- Stop the application first (to clean up some configuration that are done during start)
- Start the application again 
- Run this command to get information about running dockers
```
sudo docker ps
```
- Try to access the application using the IP address

## Known Issues
* Public Start option not working fine
* Not all maquines works equal, some machines only run alone
* JVL docker has a problem, you have to create a "pages" directory into JavaVulnerableLab docker file.
* If you install docker.io in WSL fails starting docker daemon, because is trying to start Windows Docker Descktop.

## Next machines / steps
* Include [Drunk Admin Web Hacking Challenge](http://bechtsoudis.com/data/challenges/drunk_admin_hacking_challenge.zip)
* Include [OWASP Broken Web Applications Project](https://sourceforge.net/projects/owaspbwa/)
* Include [GameOver](https://sourceforge.net/projects/null-gameover/)
* Include [Vulpy - Web Application Security Lab](https://github.com/fportantier/vulpy)
* Include [Damn Vulnerable Web Services](https://github.com/snoopysecurity/dvws-node)
* Include [VulHub](https://github.com/vulhub/vulhub) project
* Include [CSPF ASP Vulnerable Lab](https://github.com/CSPF-Founder/ASPVulnerableLab)
* Include [CSPF PHP Vulnerable Lab](https://github.com/CSPF-Founder/btslab)
* Include [CSPF Android Vulnerable Lab](https://github.com/CSPF-Founder/DodoVulnerableBank)

## Top Collaborators
Thanks to the following collaborators:
* Cryoox [https://github.com/Cryoox] with 29 collaborations
* Matope1 [https://github.com/matope1] with 1 collaboration
